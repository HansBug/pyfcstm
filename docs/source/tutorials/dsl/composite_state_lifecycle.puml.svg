<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="STATE" height="1313px" preserveAspectRatio="none" style="width:867px;height:1313px;background:#FFFFFF;" version="1.1" viewBox="0 0 867 1313" width="867px" zoomAndPan="magnify"><title>Composite State Lifecycle</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="204.9209" x="324.5237" y="22.9951">Composite State Lifecycle</text></g><g id="EnterState"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="206.9492" x="405.99" y="140.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="405.99" x2="612.9392" y1="166.5938" y2="166.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.6348" x="472.1472" y="158.292">EnterState</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="186.9492" x="410.99" y="182.7324">Entry point for composite state</text></g><g id="ExecuteEnterOperation"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="256.9531" x="380.98" y="267.5569"/><line style="stroke:#181818;stroke-width:0.5;" x1="380.98" x2="637.9331" y1="293.8538" y2="293.8538"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.666" x="427.6236" y="285.552">ExecuteEnterOperation</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="236.9531" x="385.98" y="309.9924">Execute current state's enter operation</text></g><g id="ExecuteDuringBefore"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="306.3535" x="356.28" y="394.8269"/><line style="stroke:#181818;stroke-width:0.5;" x1="356.28" x2="662.6335" y1="421.1238" y2="421.1238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.5566" x="434.6784" y="412.822">ExecuteDuringBefore</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="286.3535" x="361.28" y="437.2624">Execute current state's during before operation</text></g><g id="TryEnterSubstate"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="146.7383" x="293.09" y="522.0969"/><line style="stroke:#181818;stroke-width:0.5;" x1="293.09" x2="439.8283" y1="548.3938" y2="548.3938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.2813" x="305.3185" y="540.092">TryEnterSubstate</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126.7383" x="298.09" y="564.5324">Try to enter substate</text></g><g id="EnterSubstate"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="272.9199" x="7" y="649.3569"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="279.9199" y1="675.6538" y2="675.6538"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.6885" x="93.6157" y="667.352">EnterSubstate</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="252.9199" x="12" y="691.7924">Enter substate and return to current state</text></g><g id="ExecuteDuringAfter"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="296.0703" x="229.42" y="776.6269"/><line style="stroke:#181818;stroke-width:0.5;" x1="229.42" x2="525.4903" y1="802.9238" y2="802.9238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.8398" x="308.5352" y="794.622">ExecuteDuringAfter</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="276.0703" x="234.42" y="819.0624">Execute current state's during after operation</text></g><g id="CheckTransitions"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="233.7266" x="397.6" y="903.8869"/><line style="stroke:#181818;stroke-width:0.5;" x1="397.6" x2="631.3266" y1="930.1838" y2="930.1838"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.1211" x="454.4027" y="921.882">CheckTransitions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="213.7266" x="402.6" y="946.3224">Check transition events and guards</text></g><g id="ExecuteExitOperation"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="247.4668" x="390.73" y="1031.1569"/><line style="stroke:#181818;stroke-width:0.5;" x1="390.73" x2="638.1968" y1="1057.4538" y2="1057.4538"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.5986" x="438.1641" y="1049.152">ExecuteExitOperation</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="227.4668" x="395.73" y="1073.5924">Execute current state's exit operation</text></g><g id="ExecuteTransition"><rect fill="#F1F1F1" height="50.2656" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="318.3301" x="355.29" y="1158.4169"/><line style="stroke:#181818;stroke-width:0.5;" x1="355.29" x2="673.6201" y1="1184.7138" y2="1184.7138"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.1777" x="451.3662" y="1176.412">ExecuteTransition</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="298.3301" x="360.29" y="1200.8524">Execute transition effects and move to next state</text></g><ellipse cx="509.46" cy="53.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><ellipse cx="514.46" cy="1296.6869" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="514.46" cy="1296.6869" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><!--link *start* to EnterState--><g class="link" data-entity-1=".start." data-entity-2="EnterState" data-source-line="3" data-uid="lnk3" id="link_.start._EnterState"><path d="M509.46,63.6869 C509.46,80.4369 509.46,109.9669 509.46,134.0269" fill="none" id="*start*-to-EnterState" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="509.46,140.0269,513.46,131.0269,509.46,135.0269,505.46,131.0269,509.46,140.0269" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.5396" x="510.46" y="106.3638">Enter composite state</text></g><!--link EnterState to ExecuteEnterOperation--><g class="link" data-entity-1="EnterState" data-entity-2="ExecuteEnterOperation" data-source-line="9" data-uid="lnk4" id="link_EnterState_ExecuteEnterOperation"><path d="M509.46,190.8769 C509.46,212.9469 509.46,239.2569 509.46,261.3069" fill="none" id="EnterState-to-ExecuteEnterOperation" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="509.46,267.3069,513.46,258.3069,509.46,262.3069,505.46,258.3069,509.46,267.3069" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.9385" x="510.46" y="233.6238">Step 1: Enter the state</text></g><!--link ExecuteEnterOperation to ExecuteDuringBefore--><g class="link" data-entity-1="ExecuteEnterOperation" data-entity-2="ExecuteDuringBefore" data-source-line="15" data-uid="lnk5" id="link_ExecuteEnterOperation_ExecuteDuringBefore"><path d="M509.46,318.1469 C509.46,340.2169 509.46,366.5169 509.46,388.5769" fill="none" id="ExecuteEnterOperation-to-ExecuteDuringBefore" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="509.46,394.5769,513.46,385.5769,509.46,389.5769,505.46,385.5769,509.46,394.5769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.2603" x="510.46" y="360.8938">Step 2: Execute enter operation</text></g><!--link ExecuteDuringBefore to TryEnterSubstate--><g class="link" data-entity-1="ExecuteDuringBefore" data-entity-2="TryEnterSubstate" data-source-line="21" data-uid="lnk6" id="link_ExecuteDuringBefore_TryEnterSubstate"><path d="M397.55,445.5069 C384.17,452.9169 372.18,462.5569 363.46,475.0969 C354.14,488.4869 353.9452,501.116 357.1852,515.896" fill="none" id="ExecuteDuringBefore-to-TryEnterSubstate" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="358.47,521.7569,360.45,512.1091,357.3993,516.8728,352.6356,513.8222,358.47,521.7569" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.7773" x="364.46" y="488.1638">Step 3: Execute during before operation</text></g><!--link TryEnterSubstate to EnterSubstate--><g class="link" data-entity-1="TryEnterSubstate" data-entity-2="EnterSubstate" data-source-line="27" data-uid="lnk7" id="link_TryEnterSubstate_EnterSubstate"><path d="M292.64,555.3769 C231.76,562.9769 152.28,577.4269 132.46,602.3569 C122.12,615.3669 123.3767,628.4414 129.0067,643.4014" fill="none" id="TryEnterSubstate-to-EnterSubstate" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="131.12,649.0169,131.6937,639.1847,129.3589,644.3373,124.2063,642.0025,131.12,649.0169" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.772" x="133.46" y="615.4238">Step 4a: Success - enter substate</text></g><!--link TryEnterSubstate to ExecuteDuringAfter--><g class="link" data-entity-1="TryEnterSubstate" data-entity-2="ExecuteDuringAfter" data-source-line="28" data-uid="lnk8" id="link_TryEnterSubstate_ExecuteDuringAfter"><path d="M367.51,572.4369 C369.61,620.5869 374.0186,721.8626 376.1286,770.2526" fill="none" id="TryEnterSubstate-to-ExecuteDuringAfter" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="376.39,776.2469,379.9941,767.0812,376.1722,771.2516,372.0017,767.4297,376.39,776.2469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.4648" x="374.46" y="679.0538">Step 4b: Failure - skip substate</text></g><!--link EnterSubstate to ExecuteDuringAfter--><g class="link" data-entity-1="EnterSubstate" data-entity-2="ExecuteDuringAfter" data-source-line="34" data-uid="lnk9" id="link_EnterSubstate_ExecuteDuringAfter"><path d="M143.56,700.0069 C144.95,715.3569 149.29,734.4769 161.46,746.6269 C173.13,758.2669 195.1499,766.6987 227.1199,774.7087" fill="none" id="EnterSubstate-to-ExecuteDuringAfter" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="232.94,776.1669,225.182,770.0995,228.0899,774.9517,223.2377,777.8596,232.94,776.1669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.4648" x="162.46" y="742.6938">Step 5: Return from substate</text></g><!--link ExecuteDuringAfter to CheckTransitions--><g class="link" data-entity-1="ExecuteDuringAfter" data-entity-2="CheckTransitions" data-source-line="40" data-uid="lnk10" id="link_ExecuteDuringAfter_CheckTransitions"><path d="M369.54,827.1869 C366.32,841.9369 365.23,860.4369 374.46,873.8869 C383.08,886.4669 389.8221,893.2084 403.1921,900.6184" fill="none" id="ExecuteDuringAfter-to-CheckTransitions" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="408.44,903.5269,402.5072,895.6655,404.0667,901.1031,398.6291,902.6627,408.44,903.5269" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.6372" x="375.46" y="869.9538">Step 6: Execute during after operation</text></g><!--link CheckTransitions to ExecuteDuringBefore--><g class="link" data-entity-1="CheckTransitions" data-entity-2="ExecuteDuringBefore" data-source-line="46" data-uid="lnk11" id="link_CheckTransitions_ExecuteDuringBefore"><path d="M590.9,903.4869 C605.59,895.9069 619.73,886.2069 630.46,873.8869 C652.21,848.9469 652.46,835.8469 652.46,802.7569 C652.46,546.2269 652.46,546.2269 652.46,546.2269 C652.46,513.1369 652.41,499.8569 630.46,475.0969 C619.55,462.7769 610.645,455.8232 595.765,448.3032" fill="none" id="CheckTransitions-to-ExecuteDuringBefore" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="590.41,445.5969,596.6383,453.2263,594.8725,447.8521,600.2467,446.0863,590.41,445.5969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.5083" x="653.46" y="671.5538">Step 7a: No transition triggered</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.8765" x="705.2759" y="686.6866">(back to step 3)</text></g><!--link CheckTransitions to ExecuteExitOperation--><g class="link" data-entity-1="CheckTransitions" data-entity-2="ExecuteExitOperation" data-source-line="47" data-uid="lnk12" id="link_CheckTransitions_ExecuteExitOperation"><path d="M514.46,954.4769 C514.46,976.5469 514.46,1002.8469 514.46,1024.8969" fill="none" id="CheckTransitions-to-ExecuteExitOperation" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="514.46,1030.8969,518.46,1021.8969,514.46,1025.8969,510.46,1021.8969,514.46,1030.8969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.8271" x="515.46" y="997.2238">Step 7b: Transition triggered</text></g><!--link ExecuteExitOperation to ExecuteTransition--><g class="link" data-entity-1="ExecuteExitOperation" data-entity-2="ExecuteTransition" data-source-line="53" data-uid="lnk13" id="link_ExecuteExitOperation_ExecuteTransition"><path d="M514.46,1081.7369 C514.46,1103.8069 514.46,1130.1169 514.46,1152.1669" fill="none" id="ExecuteExitOperation-to-ExecuteTransition" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="514.46,1158.1669,518.46,1149.1669,514.46,1153.1669,510.46,1149.1669,514.46,1158.1669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9834" x="515.46" y="1124.4838">Step 8: Execute exit operation</text></g><!--link ExecuteTransition to *end*--><g class="link" data-entity-1="ExecuteTransition" data-entity-2=".end." data-source-line="59" data-uid="lnk15" id="link_ExecuteTransition_.end."><path d="M514.46,1208.9469 C514.46,1232.8369 514.46,1262.1069 514.46,1279.3869" fill="none" id="ExecuteTransition-to-*end*" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="514.46,1285.3869,518.46,1276.3869,514.46,1280.3869,510.46,1276.3869,514.46,1285.3869" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.6997" x="515.46" y="1251.7538">Step 9: Transition to next state</text></g><!--SRC=[ZPKzRzim441t_OhRqXRmaAPj4Wy1MiUTYXPeiYKPAFda4BP9WQGC6qN_UqYAYewa56Vnn_dkyV5ueWqtMuI5t3LISuDmPvXz_SLhh8xL5elYuTCJp6Oti1G6LVVhlFi2rMkLTl6Yy6yqyry1MQ4wGYEvC53B7F6_A4Y-N_U0LMlGH_yqg9ZXKbZIdS46pdiLyvnAZ9PvdmbWY4FLAeLMptFEDA1VGFQPNd4KGMnlMyN5-WVQBMBl-dbO8aN6pb4nCKwWKxuhdmPbbpVc7O6SzRqwTbrlInqEoYjV3AjCKODwHd3U8rWR0YD30tI8ExKiTvYvHEeBin_QgaAjOPQInZ5qszzhLz2poZdyP7pRkaQ0tl1cG4NJJBULMYqZ1M1Y1GfDguJRQNGwmtY_J-_h7Fvsf5h9NQwM5sRZqlDEJ0khfuQSOfpjuXchpRrYmZwrDbFthj-oMKcPmJe3EESHgW-1UOq1xgsuzlrTjqojjBFC2ayyXPTsUdvBYZMAhzUeSFKeFfJCBIbjTzpqVtoJlZnmarr8bwMRyPoTNajHBRsL4kZafMJpnk-a241qYLLmlI8NKeoBPKabCOruFOUULct_Gi9nxUGUNLi57kYJa86Shlk_2OBNSIzf_Gi0]--></g></svg>